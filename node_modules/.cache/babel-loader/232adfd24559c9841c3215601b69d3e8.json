{"remainingRequest":"E:\\求美新库\\reader-po\\node_modules\\babel-loader\\lib\\index.js!E:\\求美新库\\reader-po\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\求美新库\\reader-po\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\求美新库\\reader-po\\src\\components\\HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\求美新库\\reader-po\\src\\components\\HelloWorld.vue","mtime":1712454287887},{"path":"E:\\求美新库\\reader-po\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685600561614},{"path":"E:\\求美新库\\reader-po\\node_modules\\babel-loader\\lib\\index.js","mtime":1685600568530},{"path":"E:\\求美新库\\reader-po\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685600561614},{"path":"E:\\求美新库\\reader-po\\node_modules\\vue-loader\\lib\\index.js","mtime":1685600567290}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.index-of\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      httpSinput: '/137_137479/',\n      nameinput: '第50章 张家',\n      endinput: '</dl>',\n      pageShow: [],\n      titleinput1: '<h1>',\n      titleinput2: '</h1>',\n      contantinput1: '<div id=\"content\" deep=\"3\">',\n      contantinput2: '无尽的昏迷过后，时宇猛地从床上起身',\n      showContant: '',\n      nnnumber: 0\n    };\n  },\n  methods: {\n    // 访问网址\n    inroot: function inroot() {\n      var _this = this;\n\n      var url = \"/api\" + this.httpSinput;\n      axios({\n        method: \"get\",\n        url: url\n      }).then(function (result) {\n        if (result.status == 200) {\n          _this.$message.success(\"访问成功\");\n\n          _this.pageShow = [];\n          var data = result.data;\n          var startNum = data.indexOf(_this.nameinput); // 字符串截取\n\n          var c = data.substring(startNum);\n          var endNum = c.indexOf(_this.endinput);\n          var a = c.substring(0, endNum);\n          console.log(a); // 截取之后转变成数组\n\n          var arr = a.split(_this.httpSinput).join('').split('<dd>');\n          console.log(arr);\n\n          for (var _a in arr) {\n            if (arr[_a].indexOf('href=') != -1) {\n              _this.pageShow.push(_this.httpSinput + arr[_a].substring(arr[_a].indexOf('href=\\\"') + 6, arr[_a].indexOf('.html')) + '.html');\n            }\n          }\n\n          console.log(_this.pageShow);\n        } else {\n          _this.$message.error(\"更换地址吧~\");\n        }\n      });\n    },\n    // 校验章节内容截取的是否正确\n    verify: function verify(ur) {\n      var _this2 = this;\n\n      var url;\n\n      if (ur && ur != '干') {\n        url = \"/api\" + ur;\n      } else {\n        url = \"/api\" + this.pageShow[0];\n      }\n\n      axios({\n        method: \"get\",\n        url: url\n      }).then(function (result) {\n        if (result.status == 200) {\n          var data = result.data; // 截取内容\n\n          var startNum = data.indexOf(_this2.contantinput1) + _this2.contantinput1.length;\n\n          var c = data.substring(startNum); // console.log(c)\n\n          var endNum = c.indexOf(_this2.contantinput2); // console.log(endNum)\n          // let a = c.substring(0,endNum).replaceAll('&nbsp;',\" \").replaceAll(\"<br>\", \"\\r\").replaceAll(\"<p>\", \"\\r\").replaceAll(\"</P>\", \" \")\n\n          var a = c.substring(0, endNum).replaceAll(\"<p>\", \"&nbsp;&nbsp;&nbsp;&nbsp;\").replaceAll(\"</P>\", \"</p>\").replaceAll(\"</p>\", \"<br><br>\").replaceAll('&nbsp;', \" \").replaceAll(\"<br>\", \"\\r\").replaceAll(\"<br/>\", \"\\r\").replaceAll(\"<br />\", \"\\r\"); // let a = c.substring(0,endNum).replaceAll('\\n',\" \").replaceAll('\\r',\" \")\n          // .replaceAll('</p>', \" \")\n          // .replaceAll('<p class=\"content_detail\">', \" \")\n          // .replaceAll(\"<br/>\", \"\\r\")\n          // .replaceAll(\"<br>\", \"\")\n          // 截取标题\n\n          var b1 = data.indexOf(_this2.titleinput1) + 4;\n          var b = data.substring(b1);\n          var b2 = b.indexOf(_this2.titleinput2);\n          var b3 = b.substring(0, b2);\n          var endC = b3 + \"\\r\" + a; // console.log(endC)\n          // // let zuizhong = endC.substring(endC.indexOf('\"title\">') + 8,endC.indexOf('<a')).replaceAll(\"</div>\", \"\")\n          // let zuizhong = endC.replaceAll('<p class=\"content_detail\">', \"\")\n          // console.log(zuizhong)\n\n          if (ur && ur != '干') {\n            _this2.showContant = _this2.showContant + endC;\n            _this2.nnnumber = _this2.nnnumber + 1;\n\n            _this2.finsh(_this2.nnnumber);\n          } else {\n            _this2.showContant = endC;\n          }\n        } else {\n          console.log(123123);\n\n          _this2.$message.error(\"网址访问不了\");\n        }\n      }).catch(function (err) {\n        console.log('报错');\n        console.log(err);\n        console.log(_this2.showContant);\n      });\n    },\n    // 获取最后结果\n    finsh: function finsh(num) {\n      this.nnnumber = num;\n      var a = this.pageShow[this.nnnumber];\n\n      if (!this.pageShow[this.nnnumber]) {\n        console.log(this.showContant);\n      }\n\n      this.verify(a);\n    }\n  }\n};",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"text-align: center;width: 600px;\">\r\n    <el-form label-width=\"160px\">\r\n      <el-form-item label=\"网址：\">\r\n        <el-input v-model=\"httpSinput\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"名字截取：\">\r\n        <el-input v-model=\"nameinput\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容底部：\">\r\n        <el-input v-model=\"endinput\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"inroot\" size=\"mini\">访问</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"获取章节地址：\">\r\n        {{this.pageShow[0]}}\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容标题截取1：\">\r\n        <el-input v-model=\"titleinput1\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容标题截取2：\">\r\n        <el-input v-model=\"titleinput2\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容截取头部：\">\r\n        <el-input v-model=\"contantinput1\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容截取尾部：\">\r\n        <el-input v-model=\"contantinput2\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"verify('干')\" size=\"mini\">校验</el-button>\r\n        <el-button @click=\"finsh(0)\" size=\"mini\" style=\"margin-left: 40px;\">爬取</el-button>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"查看单章结果：\">\r\n        {{showContant}}\r\n      </el-form-item> -->\r\n    </el-form>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      httpSinput: '/137_137479/',\r\n      nameinput: '第50章 张家',\r\n      endinput: '</dl>',\r\n      pageShow: [],\r\n      titleinput1: '<h1>',\r\n      titleinput2: '</h1>',\r\n      contantinput1: '<div id=\"content\" deep=\"3\">',\r\n      contantinput2: '无尽的昏迷过后，时宇猛地从床上起身',\r\n      showContant: '',\r\n      nnnumber: 0,\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // 访问网址\r\n    inroot() {\r\n      let url = \"/api\" + this.httpSinput\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n      }).then((result) => {\r\n        if (result.status == 200) {\r\n          this.$message.success(\"访问成功\");\r\n          this.pageShow = []\r\n          let data = result.data\r\n          let startNum = data.indexOf(this.nameinput)\r\n          // 字符串截取\r\n          let c = data.substring(startNum)\r\n          let endNum = c.indexOf(this.endinput)\r\n          let a = c.substring(0,endNum)\r\n          console.log(a)\r\n          // 截取之后转变成数组\r\n          let arr = a.split(this.httpSinput).join('').split('<dd>')\r\n          console.log(arr)\r\n          for (let a in arr) {\r\n            if (arr[a].indexOf('href=') != -1) {\r\n              this.pageShow.push(this.httpSinput + arr[a].substring(arr[a].indexOf('href=\\\"') + 6,arr[a].indexOf('.html')) + '.html')\r\n            }\r\n          }\r\n          console.log(this.pageShow)\r\n        } else {\r\n          this.$message.error(\"更换地址吧~\");\r\n        }\r\n      });\r\n    },\r\n    // 校验章节内容截取的是否正确\r\n    verify(ur) {\r\n      let url\r\n      if (ur && ur != '干') {\r\n        url = \"/api\" + ur\r\n      } else {\r\n        url = \"/api\" + this.pageShow[0]\r\n      }\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n      }).then((result) => {\r\n        if (result.status == 200) {\r\n          let data = result.data\r\n\r\n          // 截取内容\r\n          let startNum = data.indexOf(this.contantinput1) + this.contantinput1.length\r\n          let c = data.substring(startNum)\r\n          // console.log(c)\r\n          let endNum = c.indexOf(this.contantinput2)\r\n          // console.log(endNum)\r\n          // let a = c.substring(0,endNum).replaceAll('&nbsp;',\" \").replaceAll(\"<br>\", \"\\r\").replaceAll(\"<p>\", \"\\r\").replaceAll(\"</P>\", \" \")\r\n          let a = c.substring(0,endNum).replaceAll(\"<p>\", \"&nbsp;&nbsp;&nbsp;&nbsp;\").replaceAll(\"</P>\", \"</p>\").replaceAll(\"</p>\", \"<br><br>\").replaceAll('&nbsp;',\" \").\r\n          replaceAll(\"<br>\", \"\\r\").replaceAll(\"<br/>\", \"\\r\").replaceAll(\"<br />\", \"\\r\")\r\n          \r\n          // let a = c.substring(0,endNum).replaceAll('\\n',\" \").replaceAll('\\r',\" \")\r\n          // .replaceAll('</p>', \" \")\r\n          // .replaceAll('<p class=\"content_detail\">', \" \")\r\n          // .replaceAll(\"<br/>\", \"\\r\")\r\n          // .replaceAll(\"<br>\", \"\")\r\n\r\n          // 截取标题\r\n          let b1 = data.indexOf(this.titleinput1) + 4\r\n          let b = data.substring(b1)\r\n          let b2 = b.indexOf(this.titleinput2)\r\n          let b3 = b.substring(0,b2)\r\n          let endC = b3 + \"\\r\" + a\r\n          // console.log(endC)\r\n          // // let zuizhong = endC.substring(endC.indexOf('\"title\">') + 8,endC.indexOf('<a')).replaceAll(\"</div>\", \"\")\r\n          // let zuizhong = endC.replaceAll('<p class=\"content_detail\">', \"\")\r\n          // console.log(zuizhong)\r\n          if (ur && ur != '干') {\r\n            this.showContant =  this.showContant + endC\r\n            this.nnnumber = this.nnnumber + 1\r\n            this.finsh(this.nnnumber)\r\n          } else {\r\n            this.showContant = endC\r\n          }\r\n        } else {\r\n          console.log(123123)\r\n          this.$message.error(\"网址访问不了\");\r\n        }\r\n      }).catch(err => {\r\n        console.log('报错')\r\n        console.log(err)\r\n        console.log(this.showContant)\r\n      });\r\n    },\r\n    // 获取最后结果\r\n    finsh(num) {\r\n      this.nnnumber = num\r\n      let a = this.pageShow[this.nnnumber]\r\n      if (!this.pageShow[this.nnnumber]) {\r\n        console.log(this.showContant)\r\n      }\r\n      this.verify(a)\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components"}]}