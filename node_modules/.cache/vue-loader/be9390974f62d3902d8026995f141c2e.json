{"remainingRequest":"E:\\求美新库\\reader-po\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\求美新库\\reader-po\\src\\components\\HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\求美新库\\reader-po\\src\\components\\HelloWorld.vue","mtime":1712454287887},{"path":"E:\\求美新库\\reader-po\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685600561614},{"path":"E:\\求美新库\\reader-po\\node_modules\\babel-loader\\lib\\index.js","mtime":1685600568530},{"path":"E:\\求美新库\\reader-po\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685600561614},{"path":"E:\\求美新库\\reader-po\\node_modules\\vue-loader\\lib\\index.js","mtime":1685600567290}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      httpSinput: '/137_137479/',\r\n      nameinput: '第50章 张家',\r\n      endinput: '</dl>',\r\n      pageShow: [],\r\n      titleinput1: '<h1>',\r\n      titleinput2: '</h1>',\r\n      contantinput1: '<div id=\"content\" deep=\"3\">',\r\n      contantinput2: '无尽的昏迷过后，时宇猛地从床上起身',\r\n      showContant: '',\r\n      nnnumber: 0,\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // 访问网址\r\n    inroot() {\r\n      let url = \"/api\" + this.httpSinput\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n      }).then((result) => {\r\n        if (result.status == 200) {\r\n          this.$message.success(\"访问成功\");\r\n          this.pageShow = []\r\n          let data = result.data\r\n          let startNum = data.indexOf(this.nameinput)\r\n          // 字符串截取\r\n          let c = data.substring(startNum)\r\n          let endNum = c.indexOf(this.endinput)\r\n          let a = c.substring(0,endNum)\r\n          console.log(a)\r\n          // 截取之后转变成数组\r\n          let arr = a.split(this.httpSinput).join('').split('<dd>')\r\n          console.log(arr)\r\n          for (let a in arr) {\r\n            if (arr[a].indexOf('href=') != -1) {\r\n              this.pageShow.push(this.httpSinput + arr[a].substring(arr[a].indexOf('href=\\\"') + 6,arr[a].indexOf('.html')) + '.html')\r\n            }\r\n          }\r\n          console.log(this.pageShow)\r\n        } else {\r\n          this.$message.error(\"更换地址吧~\");\r\n        }\r\n      });\r\n    },\r\n    // 校验章节内容截取的是否正确\r\n    verify(ur) {\r\n      let url\r\n      if (ur && ur != '干') {\r\n        url = \"/api\" + ur\r\n      } else {\r\n        url = \"/api\" + this.pageShow[0]\r\n      }\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n      }).then((result) => {\r\n        if (result.status == 200) {\r\n          let data = result.data\r\n\r\n          // 截取内容\r\n          let startNum = data.indexOf(this.contantinput1) + this.contantinput1.length\r\n          let c = data.substring(startNum)\r\n          // console.log(c)\r\n          let endNum = c.indexOf(this.contantinput2)\r\n          // console.log(endNum)\r\n          // let a = c.substring(0,endNum).replaceAll('&nbsp;',\" \").replaceAll(\"<br>\", \"\\r\").replaceAll(\"<p>\", \"\\r\").replaceAll(\"</P>\", \" \")\r\n          let a = c.substring(0,endNum).replaceAll(\"<p>\", \"&nbsp;&nbsp;&nbsp;&nbsp;\").replaceAll(\"</P>\", \"</p>\").replaceAll(\"</p>\", \"<br><br>\").replaceAll('&nbsp;',\" \").\r\n          replaceAll(\"<br>\", \"\\r\").replaceAll(\"<br/>\", \"\\r\").replaceAll(\"<br />\", \"\\r\")\r\n          \r\n          // let a = c.substring(0,endNum).replaceAll('\\n',\" \").replaceAll('\\r',\" \")\r\n          // .replaceAll('</p>', \" \")\r\n          // .replaceAll('<p class=\"content_detail\">', \" \")\r\n          // .replaceAll(\"<br/>\", \"\\r\")\r\n          // .replaceAll(\"<br>\", \"\")\r\n\r\n          // 截取标题\r\n          let b1 = data.indexOf(this.titleinput1) + 4\r\n          let b = data.substring(b1)\r\n          let b2 = b.indexOf(this.titleinput2)\r\n          let b3 = b.substring(0,b2)\r\n          let endC = b3 + \"\\r\" + a\r\n          // console.log(endC)\r\n          // // let zuizhong = endC.substring(endC.indexOf('\"title\">') + 8,endC.indexOf('<a')).replaceAll(\"</div>\", \"\")\r\n          // let zuizhong = endC.replaceAll('<p class=\"content_detail\">', \"\")\r\n          // console.log(zuizhong)\r\n          if (ur && ur != '干') {\r\n            this.showContant =  this.showContant + endC\r\n            this.nnnumber = this.nnnumber + 1\r\n            this.finsh(this.nnnumber)\r\n          } else {\r\n            this.showContant = endC\r\n          }\r\n        } else {\r\n          console.log(123123)\r\n          this.$message.error(\"网址访问不了\");\r\n        }\r\n      }).catch(err => {\r\n        console.log('报错')\r\n        console.log(err)\r\n        console.log(this.showContant)\r\n      });\r\n    },\r\n    // 获取最后结果\r\n    finsh(num) {\r\n      this.nnnumber = num\r\n      let a = this.pageShow[this.nnnumber]\r\n      if (!this.pageShow[this.nnnumber]) {\r\n        console.log(this.showContant)\r\n      }\r\n      this.verify(a)\r\n    },\r\n\r\n  }\r\n}\r\n",{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div style=\"text-align: center;width: 600px;\">\r\n    <el-form label-width=\"160px\">\r\n      <el-form-item label=\"网址：\">\r\n        <el-input v-model=\"httpSinput\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"名字截取：\">\r\n        <el-input v-model=\"nameinput\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容底部：\">\r\n        <el-input v-model=\"endinput\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"inroot\" size=\"mini\">访问</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"获取章节地址：\">\r\n        {{this.pageShow[0]}}\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容标题截取1：\">\r\n        <el-input v-model=\"titleinput1\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容标题截取2：\">\r\n        <el-input v-model=\"titleinput2\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容截取头部：\">\r\n        <el-input v-model=\"contantinput1\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"章节内容截取尾部：\">\r\n        <el-input v-model=\"contantinput2\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"verify('干')\" size=\"mini\">校验</el-button>\r\n        <el-button @click=\"finsh(0)\" size=\"mini\" style=\"margin-left: 40px;\">爬取</el-button>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"查看单章结果：\">\r\n        {{showContant}}\r\n      </el-form-item> -->\r\n    </el-form>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      httpSinput: '/137_137479/',\r\n      nameinput: '第50章 张家',\r\n      endinput: '</dl>',\r\n      pageShow: [],\r\n      titleinput1: '<h1>',\r\n      titleinput2: '</h1>',\r\n      contantinput1: '<div id=\"content\" deep=\"3\">',\r\n      contantinput2: '无尽的昏迷过后，时宇猛地从床上起身',\r\n      showContant: '',\r\n      nnnumber: 0,\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // 访问网址\r\n    inroot() {\r\n      let url = \"/api\" + this.httpSinput\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n      }).then((result) => {\r\n        if (result.status == 200) {\r\n          this.$message.success(\"访问成功\");\r\n          this.pageShow = []\r\n          let data = result.data\r\n          let startNum = data.indexOf(this.nameinput)\r\n          // 字符串截取\r\n          let c = data.substring(startNum)\r\n          let endNum = c.indexOf(this.endinput)\r\n          let a = c.substring(0,endNum)\r\n          console.log(a)\r\n          // 截取之后转变成数组\r\n          let arr = a.split(this.httpSinput).join('').split('<dd>')\r\n          console.log(arr)\r\n          for (let a in arr) {\r\n            if (arr[a].indexOf('href=') != -1) {\r\n              this.pageShow.push(this.httpSinput + arr[a].substring(arr[a].indexOf('href=\\\"') + 6,arr[a].indexOf('.html')) + '.html')\r\n            }\r\n          }\r\n          console.log(this.pageShow)\r\n        } else {\r\n          this.$message.error(\"更换地址吧~\");\r\n        }\r\n      });\r\n    },\r\n    // 校验章节内容截取的是否正确\r\n    verify(ur) {\r\n      let url\r\n      if (ur && ur != '干') {\r\n        url = \"/api\" + ur\r\n      } else {\r\n        url = \"/api\" + this.pageShow[0]\r\n      }\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n      }).then((result) => {\r\n        if (result.status == 200) {\r\n          let data = result.data\r\n\r\n          // 截取内容\r\n          let startNum = data.indexOf(this.contantinput1) + this.contantinput1.length\r\n          let c = data.substring(startNum)\r\n          // console.log(c)\r\n          let endNum = c.indexOf(this.contantinput2)\r\n          // console.log(endNum)\r\n          // let a = c.substring(0,endNum).replaceAll('&nbsp;',\" \").replaceAll(\"<br>\", \"\\r\").replaceAll(\"<p>\", \"\\r\").replaceAll(\"</P>\", \" \")\r\n          let a = c.substring(0,endNum).replaceAll(\"<p>\", \"&nbsp;&nbsp;&nbsp;&nbsp;\").replaceAll(\"</P>\", \"</p>\").replaceAll(\"</p>\", \"<br><br>\").replaceAll('&nbsp;',\" \").\r\n          replaceAll(\"<br>\", \"\\r\").replaceAll(\"<br/>\", \"\\r\").replaceAll(\"<br />\", \"\\r\")\r\n          \r\n          // let a = c.substring(0,endNum).replaceAll('\\n',\" \").replaceAll('\\r',\" \")\r\n          // .replaceAll('</p>', \" \")\r\n          // .replaceAll('<p class=\"content_detail\">', \" \")\r\n          // .replaceAll(\"<br/>\", \"\\r\")\r\n          // .replaceAll(\"<br>\", \"\")\r\n\r\n          // 截取标题\r\n          let b1 = data.indexOf(this.titleinput1) + 4\r\n          let b = data.substring(b1)\r\n          let b2 = b.indexOf(this.titleinput2)\r\n          let b3 = b.substring(0,b2)\r\n          let endC = b3 + \"\\r\" + a\r\n          // console.log(endC)\r\n          // // let zuizhong = endC.substring(endC.indexOf('\"title\">') + 8,endC.indexOf('<a')).replaceAll(\"</div>\", \"\")\r\n          // let zuizhong = endC.replaceAll('<p class=\"content_detail\">', \"\")\r\n          // console.log(zuizhong)\r\n          if (ur && ur != '干') {\r\n            this.showContant =  this.showContant + endC\r\n            this.nnnumber = this.nnnumber + 1\r\n            this.finsh(this.nnnumber)\r\n          } else {\r\n            this.showContant = endC\r\n          }\r\n        } else {\r\n          console.log(123123)\r\n          this.$message.error(\"网址访问不了\");\r\n        }\r\n      }).catch(err => {\r\n        console.log('报错')\r\n        console.log(err)\r\n        console.log(this.showContant)\r\n      });\r\n    },\r\n    // 获取最后结果\r\n    finsh(num) {\r\n      this.nnnumber = num\r\n      let a = this.pageShow[this.nnnumber]\r\n      if (!this.pageShow[this.nnnumber]) {\r\n        console.log(this.showContant)\r\n      }\r\n      this.verify(a)\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n"]}]}